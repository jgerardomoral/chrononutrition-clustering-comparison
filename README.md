# Traditional and Non-Traditional Clustering Techniques for Identifying Chrononutrition Patterns

[![DOI](https://zenodo.org/badge/DOI/10.5281/zenodo.17795547.svg)](https://doi.org/10.5281/zenodo.17795547)
[![License: MIT](https://img.shields.io/badge/Code-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![License: CC BY 4.0](https://img.shields.io/badge/Data-CC%20BY%204.0-lightgrey.svg)](https://creativecommons.org/licenses/by/4.0/)

## Description

Anonymized data and reproducible R scripts for the paper:

> **Traditional and Non-Traditional Clustering Techniques for Identifying Chrononutrition Patterns**

This repository contains meal timing data from 459 Mexican university students and implements 4 clustering methods to identify chrononutrition patterns:

1. **K-means** (Traditional)
2. **Hierarchical Ward** (Traditional)
3. **Gaussian Mixture Models - GMM** (Non-Traditional)
4. **Spectral Clustering** (Non-Traditional)

## Quick Start

```r
# 1. Clone repository
# git clone https://github.com/jgerardomoral/chrononutrition-clustering.git

# 2. Open R/RStudio and set working directory to repository root

# 3. Restore package environment
source("scripts/00_setup.R")

# 4. Run complete analysis pipeline
source("scripts/run_all.R")

# 5. Results will be in output/ folder
```

## Repository Structure

```
.
├── data/
│   ├── chrono_patterns_n459.csv    # Anonymized dataset (n=459)
│   ├── codebook.md                 # Variable descriptions
│   └── data_dictionary.csv         # Machine-readable data dictionary
│
├── scripts/
│   ├── 00_setup.R                  # Package installation/restoration
│   ├── 01_load_and_prepare.R       # Load data, filter to n=388
│   ├── 02_descriptive_analysis.R   # Table 1: General characteristics
│   ├── 03_determine_optimal_k.R    # Optimal cluster selection
│   ├── 04_clustering_kmeans.R      # K-means (k=4)
│   ├── 05_clustering_hierarchical.R # Hierarchical Ward (k=4)
│   ├── 06_clustering_gmm.R         # Gaussian Mixture Models (k=4)
│   ├── 07_clustering_spectral.R    # Spectral clustering (k=4)
│   ├── 08_compare_methods.R        # Validation metrics & concordance
│   ├── 09_characterization.R       # Cluster profiles by method
│   ├── 10_generate_figure.R        # Figure 1: Temporal profiles
│   └── run_all.R                   # Master script (runs all)
│
├── output/                         # Generated by scripts
│   ├── tables/
│   └── figures/
│
├── renv.lock                       # Exact R package versions
├── .zenodo.json                    # Zenodo metadata
├── CITATION.cff                    # Citation metadata
├── LICENSE                         # MIT (code) + CC-BY 4.0 (data)
└── README.md                       # This file
```

## Requirements

- **R** >= 4.3.0
- **Operating System**: Windows, macOS, or Linux

All R package dependencies are managed via `renv`. Running `source("scripts/00_setup.R")` will automatically install the required versions.

### Key R Packages

- `cluster` - Clustering algorithms
- `mclust` - Gaussian Mixture Models
- `kernlab` - Spectral clustering
- `factoextra` - Cluster visualization
- `NbClust` - Optimal cluster determination
- `fpc` - Cluster validation metrics

## Data Description

The dataset contains **17 variables** for **459 university students**:

| Category | Variables |
|----------|-----------|
| Demographics (6) | age, sex, academic_program, semester_level, employment, marital_status |
| Anthropometric (2) | bmi, waist_circumference |
| Food Quality (1) | food_intake_quality |
| Chronotype (1) | chronotype |
| Chrononutrition (7) | breakfast_time, lunch_time, dinner_time, eating_midpoint, eating_window, overnight_fasting, breakfast_lunch_interval, lunch_dinner_interval |

See `data/codebook.md` for detailed variable descriptions.

**Note**: Complete cases for clustering analysis: n=388 (excluding participants who skip meals).

## Output

Running the analysis generates:

- **Tables**: Descriptive statistics, cluster profiles, validation metrics
- **Figures**: Temporal meal patterns by cluster and method

## Citation

If you use this data or code, please cite:

```bibtex
@dataset{mora_almanza_2025_chrononutrition,
  author       = {Mora-Almanza, José Gerardo and Betancourt-Núñez, Alejandra and
                  Nava-Amante, Pablo Alejandro and Bernal-Orozco, María Fernanda and
                  Díaz-López, Andrés and Martínez, J. Alfredo and Vizmanos, Barbara},
  title        = {Data and Code: Traditional and Non-Traditional Clustering
                  Techniques for Identifying Chrononutrition Patterns},
  year         = {2025},
  publisher    = {Zenodo},
  note         = {DOI pending - manuscript in preparation}
}
```

Or use the citation file: `CITATION.cff`

## License

- **Code** (`scripts/`): [MIT License](https://opensource.org/licenses/MIT)
- **Data** (`data/`): [CC-BY 4.0](https://creativecommons.org/licenses/by/4.0/)

## Contact

- **First Author**: José Gerardo Mora-Almanza (jgerardomoral@gmail.com)
- **Corresponding Authors**:
  - Alejandra Betancourt-Núñez (alejandra.bnunez@academicos.udg.mx)
  - Barbara Vizmanos (bvizmanos@yahoo.com.mx)
- **GitHub**: [@jgerardomoral](https://github.com/jgerardomoral)
- **Institution**: Universidad de Guadalajara

## Acknowledgments

This work was conducted at the Centro Universitario de Ciencias de la Salud (CUCS), Universidad de Guadalajara, Mexico.
